(function(){"use strict";var e={5208:function(e,t,o){var n=o(9242),a=o(3396);const r={style:{display:"flex","justify-content":"space-between","align-items":"center"}};function l(e,t,o,n,l,s){const i=(0,a.up)("modal-component"),u=(0,a.up)("custom-button"),c=(0,a.up)("search-and-sort"),d=(0,a.up)("table-component"),p=(0,a.up)("pagination-component");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(i,{show:l.isShowen,onCreate:s.addRow,"onUpdate:show":t[0]||(t[0]=e=>l.isShowen=e)},null,8,["show","onCreate"]),(0,a._)("div",r,[(0,a.Wm)(u,{onClick:s.showModal},{default:(0,a.w5)((()=>[(0,a.Uk)("Add Row")])),_:1},8,["onClick"]),(0,a.Wm)(c,{searchValue:l.searchTerm,"onUpdate:searchValue":t[1]||(t[1]=e=>l.searchTerm=e),modelValue:l.selectedSort,"onUpdate:modelValue":s.setSelectedSort},null,8,["searchValue","modelValue","onUpdate:modelValue"])]),(0,a.Wm)(d,{rows:l.rows},null,8,["rows"]),(0,a.Wm)(p,{page:l.currentPage,"onUpdate:page":t[2]||(t[2]=e=>l.currentPage=e),pages:l.totalPages},null,8,["page","pages"])],64)}var s=o(70);const i=e=>((0,a.dD)("data-v-2bd7cdfe"),e=e(),(0,a.Cn)(),e),u={class:"table"},c=i((()=>(0,a._)("thead",{class:"table__head"},[(0,a._)("th",{scope:"col"},"Дата"),(0,a._)("th",{scope:"col"},"Название"),(0,a._)("th",{scope:"col"},"Количество"),(0,a._)("th",{scope:"col"},"Расстояние")],-1))),d={class:"table__body"};function p(e,t,o,n,r,l){const s=(0,a.up)("row-component");return(0,a.wg)(),(0,a.iD)("table",u,[c,(0,a._)("tbody",d,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.rows,(e=>((0,a.wg)(),(0,a.j4)(s,{row:e,key:e.id},null,8,["row"])))),128))])])}var h=o(7139);function m(e,t,o,n,r,l){return(0,a.wg)(),(0,a.iD)("tr",null,[(0,a._)("td",null,(0,h.zw)(o.row.date),1),(0,a._)("td",null,(0,h.zw)(o.row.title),1),(0,a._)("td",null,(0,h.zw)(o.row.quantity),1),(0,a._)("td",null,(0,h.zw)(o.row.distance),1)])}var f={props:{row:{type:Object}}},w=o(89);const v=(0,w.Z)(f,[["render",m],["__scopeId","data-v-6a313fa5"]]);var g=v,b={components:{RowComponent:g},props:{rows:{type:Array}}};const _=(0,w.Z)(b,[["render",p],["__scopeId","data-v-2bd7cdfe"]]);var y=_;function V(e,t,o,r,l,s){const i=(0,a.up)("row-form");return o.show?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"modal",onClick:t[1]||(t[1]=(...e)=>s.hideModal&&s.hideModal(...e))},[(0,a._)("div",{onClick:t[0]||(t[0]=(0,n.iM)((()=>{}),["stop"])),class:"modal__content"},[(0,a.Wm)(i,{onCreate:s.addRow,onHide:s.hideModal},null,8,["onCreate","onHide"])])])):(0,a.kq)("",!0)}function S(e,t,o,n,r,l){const s=(0,a.up)("custom-input"),i=(0,a.up)("custom-button"),u=(0,a.Q2)("focus");return(0,a.wg)(),(0,a.iD)("form",null,[(0,a.wy)((0,a.Wm)(s,{modelValue:r.title,"onUpdate:modelValue":t[0]||(t[0]=e=>r.title=e),class:"input-title",placeholder:"Название",type:"text"},null,8,["modelValue"]),[[u]]),(0,a.Wm)(s,{modelValue:r.quantity,"onUpdate:modelValue":t[1]||(t[1]=e=>r.quantity=e),modelModifiers:{number:!0},class:"input-quantity",placeholder:"Количество"},null,8,["modelValue"]),(0,a.Wm)(s,{modelValue:r.distance,"onUpdate:modelValue":t[2]||(t[2]=e=>r.distance=e),modelModifiers:{number:!0},class:"input-distance",placeholder:"Расстояние"},null,8,["modelValue"]),(0,a.Wm)(i,{onClick:l.addRow,style:{margin:"10px"}},{default:(0,a.w5)((()=>[(0,a.Uk)("Добавить строку")])),_:1},8,["onClick"])])}var C={data(){return{title:"",quantity:1,distance:0}},methods:{addRow(){this.$emit("create",this.title,this.quantity,this.distance),this.$emit("hide")}}};const k=(0,w.Z)(C,[["render",S],["__scopeId","data-v-5e3f9fe4"]]);var T=k,I={components:{RowForm:T},props:{show:{type:Boolean,default:!1}},methods:{hideModal(){this.$emit("update:show",!1)},addRow(e,t,o){this.$emit("create",e,t,o)}}};const D=(0,w.Z)(I,[["render",V],["__scopeId","data-v-3732f4d0"]]);var O=D;const U={style:{display:"flex","align-items":"center"}};function W(e,t,o,n,r,l){const s=(0,a.up)("sort-rows"),i=(0,a.up)("custom-input");return(0,a.wg)(),(0,a.iD)("div",U,[(0,a.Wm)(s,{modelValue:o.modelValue,"onUpdate:modelValue":l.setSelectedSort},null,8,["modelValue","onUpdate:modelValue"]),(0,a.Wm)(i,{class:"search-input",maxlength:"50",value:o.searchValue,onInput:l.updateValue},null,8,["value","onInput"])])}const M=e=>((0,a.dD)("data-v-4cfb766b"),e=e(),(0,a.Cn)(),e),P=["value"],R=M((()=>(0,a._)("option",{value:""},null,-1))),Z=M((()=>(0,a._)("option",{value:"title"},"Название",-1))),q=M((()=>(0,a._)("option",{value:"quantity"},"Количество",-1))),$=M((()=>(0,a._)("option",{value:"distance"},"Расстояние",-1))),j=[R,Z,q,$];function x(e,t,o,n,r,l){return(0,a.wg)(),(0,a.iD)("select",{class:"sort-select",value:o.modelValue,onChange:t[0]||(t[0]=(...e)=>l.changeOption&&l.changeOption(...e))},j,40,P)}var A={props:{modelValue:{type:String}},methods:{changeOption(e){this.$emit("update:modelValue",e.target.value)}}};const z=(0,w.Z)(A,[["render",x],["__scopeId","data-v-4cfb766b"]]);var H=z,L={components:{SortRows:H},props:{modelValue:{type:String},searchValue:{type:String}},methods:{setSelectedSort(e){this.$emit("update:modelValue",e)},updateValue(e){this.$emit("update:searchValue",e.target.value)}}};const N=(0,w.Z)(L,[["render",W]]);var Y=N;const B={class:"page__wrapper"},F=["onClick"];function K(e,t,o,n,r,l){return(0,a.wg)(),(0,a.iD)("div",B,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.pages,(e=>((0,a.wg)(),(0,a.iD)("ul",{key:e,onClick:t=>l.changePage(e)},[(0,a._)("li",{class:(0,h.C_)(["pages",{"current-page":o.page===e}])},(0,h.zw)(e),3)],8,F)))),128))])}var E={props:{page:{type:Number,required:!0},pages:{type:Number,required:!0}},methods:{changePage(e){this.$emit("update:page",e)}}};const Q=(0,w.Z)(E,[["render",K],["__scopeId","data-v-37989397"]]);var G=Q,J={name:"App",components:{TableComponent:y,ModalComponent:O,SearchAndSort:Y,PaginationComponent:G},data(){return{rows:[],isShowen:!1,selectedSort:"",searchTerm:"",currentPage:1,limit:5,totalPages:0,start:0,end:5}},methods:{async addRow(e,t,o){const n=s.Z.create({baseURL:"http://localhost:5000/"}),a=await n.post("api/table",{title:e,quantity:t,distance:o});return this.fetchTable(),a},async fetchTable(){const e=s.Z.create({baseURL:"http://localhost:5000/"}),{data:t}=await e.get("api/table");this.rows=this.sortedAndSearchedTodos(t).slice(this.start,this.end),this.totalPages=Math.ceil(t.length/this.limit)},sortTable(e){return"title"===this.selectedSort?[...e].sort(((e,t)=>e[this.selectedSort].localeCompare(t[this.selectedSort]))):this.selectedSort?[...e].sort(((e,t)=>e[this.selectedSort]===t[this.selectedSort]?e["title"].localeCompare(t["title"]):e[this.selectedSort]-t[this.selectedSort])):e.reverse()},sortedAndSearchedTodos(e){return this.sortTable(e).filter((e=>e.title.toLowerCase().includes(this.searchTerm.toLowerCase())))},setSelectedSort(e){this.selectedSort=e},showModal(){this.isShowen=!0}},mounted(){this.fetchTable()},watch:{selectedSort(){this.fetchTable()},searchTerm(){this.fetchTable()},currentPage(e){this.start=this.limit*(e-1),this.end=e*this.limit,this.fetchTable()}}};const X=(0,w.Z)(J,[["render",l]]);var ee=X;const te={class:"customBtn"};function oe(e,t,o,n,r,l){return(0,a.wg)(),(0,a.iD)("button",te,[(0,a.WI)(e.$slots,"default",{},void 0,!0)])}var ne={};const ae=(0,w.Z)(ne,[["render",oe],["__scopeId","data-v-4dd165a8"]]);var re=ae;const le=["value"];function se(e,t,o,n,r,l){return(0,a.wg)(),(0,a.iD)("input",{class:"customInput",value:o.modelValue,onInput:t[0]||(t[0]=(...e)=>l.updateInput&&l.updateInput(...e))},null,40,le)}var ie={props:{modelValue:{type:[String,Number]}},methods:{updateInput(e){this.$emit("update:modelValue",e.target.value)}}};const ue=(0,w.Z)(ie,[["render",se],["__scopeId","data-v-ea257450"]]);var ce=ue,de={mounted(e){e.focus()}};const pe=(0,n.ri)(ee);pe.directive("focus",de),pe.component("custom-button",re),pe.component("custom-input",ce),pe.mount("#app")}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,n,a,r){if(!n){var l=1/0;for(c=0;c<e.length;c++){n=e[c][0],a=e[c][1],r=e[c][2];for(var s=!0,i=0;i<n.length;i++)(!1&r||l>=r)&&Object.keys(o.O).every((function(e){return o.O[e](n[i])}))?n.splice(i--,1):(s=!1,r<l&&(l=r));if(s){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,a,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,r,l=n[0],s=n[1],i=n[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(i)var c=i(o)}for(t&&t(n);u<l.length;u++)r=l[u],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(c)},n=self["webpackChunkclient"]=self["webpackChunkclient"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(5208)}));n=o.O(n)})();
//# sourceMappingURL=app.58bc1a56.js.map