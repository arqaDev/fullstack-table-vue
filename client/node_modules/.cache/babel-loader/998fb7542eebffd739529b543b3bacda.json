{"ast":null,"code":"import axios from 'axios';\nimport RowComponent from './RowComponent.vue';\nexport default {\n  components: {\n    RowComponent\n  },\n\n  data() {\n    return {\n      rows: [],\n      selectedSort: this.$root.$data.selectedSort\n    };\n  },\n\n  methods: {\n    async fetchTable() {\n      console.log(this.selectedSort);\n      const $host = axios.create({\n        baseURL: process.env.VUE_APP_API_URL\n      });\n      const {\n        data\n      } = await $host.get('api/table');\n\n      if (this.selectedSort) {\n        this.rows = [...data].sort((row1, row2) => row1[selectedSort].localeCompare(row2[selectedSort]));\n      } else {\n        this.rows = data;\n      }\n    }\n\n  },\n\n  mounted() {\n    this.fetchTable();\n  },\n\n  watch: {\n    selectedSort() {\n      this.fetchTable();\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAkBI,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,oBAAzB;AAEA,eAAe;EACXC,UAAU,EAAE;IACRD;EADQ,CADD;;EAIXE,IAAI,GAAG;IACH,OAAO;MACHC,IAAI,EAAE,EADH;MAEHC,YAAY,EAAE,KAAKC,KAAL,CAAWC,KAAX,CAAiBF;IAF5B,CAAP;EAIH,CATU;;EAUXG,OAAO,EAAE;IACL,MAAMC,UAAN,GAAmB;MACfC,OAAO,CAACC,GAAR,CAAY,KAAKN,YAAjB;MACA,MAAMO,KAAI,GAAIZ,KAAK,CAACa,MAAN,CAAa;QACvBC,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC;MADE,CAAb,CAAd;MAGA,MAAM;QAACd;MAAD,IAAS,MAAMS,KAAK,CAACM,GAAN,CAAU,WAAV,CAArB;;MACA,IAAI,KAAKb,YAAT,EAAuB;QACnB,KAAKD,IAAL,GAAY,CAAC,GAAGD,IAAJ,EAAUgB,IAAV,CAAe,CAACC,IAAD,EAAOC,IAAP,KAAgBD,IAAI,CAACf,YAAD,CAAJ,CAAmBiB,aAAnB,CAAiCD,IAAI,CAAChB,YAAD,CAArC,CAA/B,CAAZ;MACJ,CAFA,MAEO;QACH,KAAKD,IAAL,GAAYD,IAAZ;MACJ;IACJ;;EAZK,CAVE;;EAwBXoB,OAAO,GAAG;IACN,KAAKd,UAAL;EACH,CA1BU;;EA2BXe,KAAK,EAAE;IACHnB,YAAY,GAAG;MACX,KAAKI,UAAL;IACJ;;EAHG;AA3BI,CAAf","names":["axios","RowComponent","components","data","rows","selectedSort","$root","$data","methods","fetchTable","console","log","$host","create","baseURL","process","env","VUE_APP_API_URL","get","sort","row1","row2","localeCompare","mounted","watch"],"sourceRoot":"","sources":["C:\\Users\\Лидия\\Desktop\\Frontend\\fullstack-practice\\client\\src\\components\\TableComponent.vue"],"sourcesContent":["<template>\r\n    <table class=\"table\">\r\n        <thead class=\"table__head\">\r\n            <th scope=\"col\">Дата</th>\r\n            <th scope=\"col\">Название</th>\r\n            <th scope=\"col\">Количество</th>\r\n            <th scope=\"col\">Расстояние</th>\r\n        </thead>\r\n        <tbody class=\"table__body\">\r\n            <row-component v-for=\"row in rows\"\r\n                :row=\"row\"\r\n                :key=\"row.id\"\r\n            />\r\n        </tbody>\r\n    </table>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios'\r\n    import RowComponent from './RowComponent.vue'\r\n\r\n    export default {\r\n        components: {\r\n            RowComponent\r\n        },\r\n        data() {\r\n            return {\r\n                rows: [],\r\n                selectedSort: this.$root.$data.selectedSort\r\n            }\r\n        },\r\n        methods: {\r\n            async fetchTable() {\r\n                console.log(this.selectedSort)\r\n                const $host = axios.create({\r\n                    baseURL: process.env.VUE_APP_API_URL\r\n                })\r\n                const {data} = await $host.get('api/table')\r\n                if (this.selectedSort) {\r\n                    this.rows = [...data].sort((row1, row2) => row1[selectedSort].localeCompare(row2[selectedSort]))\r\n                } else {\r\n                    this.rows = data\r\n                }\r\n            }\r\n        },\r\n        mounted() {\r\n            this.fetchTable()\r\n        },\r\n        watch: {\r\n            selectedSort() {\r\n                this.fetchTable()\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n  .table {\r\n    width: 100%;\r\n    margin-top: 30px;\r\n    padding: 10px;\r\n    box-shadow: 0 0 6px rgba(0, 0, 0, 0.15);\r\n    background-color: #d2e1e6;\r\n    border-collapse: collapse;\r\n    border: 2px solid black;\r\n  }\r\n\r\n  .table__head th {\r\n    border: 3px solid black;\r\n    padding: 7px 0;\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module"}